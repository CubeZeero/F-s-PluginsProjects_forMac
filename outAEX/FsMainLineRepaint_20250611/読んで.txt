## F's MainLineRepaint_beta.aex 高速版ベータテスト版



F's MainLineRepaintの高速版を作りました。ベータテスト版ですので本番には使わないように。
matchNameを変えてあるので前のバージョンと同時素養可能ですが、正式版では上書き予定です。


追記１
いきなり透明部分の処理入れ忘れていたので修正。


追記２
目立ったバグはとったのでF's MainLineRepaintを正式ベータ版としてmatchNameを全バージョンと同じにしました。
その為全バージョンと同時使用はできなくなりました。


追記３
目立ったバグはとったのでF's MainLineRepaintを正式ベータ版としてmatchNameを全バージョンと同じにしました。
その為全バージョンと同時使用はできなくなりました。


おまけで複数色対応のF's CellLineEraser.aexを作りました。

* 10色まで主線を指定できます。TargetColorCountで数を指定します。
* 透明色に囲まれたピクセルを消さないスイッチを付けました。
* 判別できなかったピクセルを指定した色で塗りつぶす使用にしました。
* 白を透明色にする機能追加


追記３
F's CellLineEraser.aexで白透過をすると落ちるバグを修正


変えた点

* あきらめるのを早くした。そのおかげで取り残す可能性が出ました。
* ピクセル比較の計算をかなり減らしました。
* 色の識別で接したピクセルの色を2点として暗い方を採用するようにしました。
* 上記の変更で前のバージョンと描画結果が変わった（まぁトレス線内なので不都合無いかと、主線を半透明で載せると不自然にならなくなった）

肝心の高速化は手持ちのセル画像では平均15%アップですが、線が太いキャラとか主線の色の面積が多いとかなりの確実で取りこぼします。計算上主線を削るのは24pxでそれ以上の線は消せません。その代わりかなり高速になってます。線の細いセルなら前のバージョンの半分以下の処理時間になってます。<br>

できればこれの感想が欲しいです。
あと、これをF's MainLineRepaintの続きにするか、別のプラグインにするかい意見も欲しいです。



よろしくお願いいたします。

bry-ful
